
// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema


generator client {
  provider   = "prisma-client-js"
  output     = "../.prisma/client"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model HighScore {
  id    Int      @id @default(autoincrement())
  time  DateTime
  score Int
}

model ComputerRequest {
  id       Int    @id @default(autoincrement())
  location String
  staff    String
  reason   String
  type     String
}

model Node {
  nodeID       String       @id @unique
  xCoord       Int
  yCoord       Int
  floor        String
  building     String
  locationName locationName? @relation(fields: [location], references: [longName], onDelete: Cascade, onUpdate: Cascade)
  location     String?  @unique
  startEdges   Edge[] @relation("startNode")
  endEdges   Edge[] @relation("endNode")
}

model Edge {
  edgeID      String  @id @unique
  startNode   Node    @relation("startNode", fields: [startNodeId], references: [nodeID], onDelete: Cascade, onUpdate: Cascade)
  startNodeId String
  endNode     Node    @relation("endNode", fields: [endNodeId], references: [nodeID], onDelete: Cascade, onUpdate: Cascade)
  endNodeId   String
}

model locationName {
  shortName    String
  longName     String @id @unique
  locationType String
  node         Node?
}

model User {
  id       Int    @id @default(autoincrement())
  first    String
  last     String
  username String
  password String
}

model SanitationRequest {
  id       Int    @id @default(autoincrement())
  location String
  staff    String
  issue    String
  urgency  String
}

